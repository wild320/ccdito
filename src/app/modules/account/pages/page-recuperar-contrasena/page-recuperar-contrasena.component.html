<br>

<div class="container"> 
    <div class="card">
        <div class="card-body">
            
            <div class="card-title">
                <h3>Recuperar Usuario</h3>
            </div>
            
            <div *ngIf="!CodigoGenerado" class="col-12 col-lg-7 col-xl-6">
                
                <form [formGroup]="RecuperarForm" (ngSubmit)="submitForm()" > 

                    <div *ngIf="!CodigoEnviado" class="form-group">
                        <label for="profile-email">Correo Electrónico</label>
                        <input type="email" formControlName="Correo" class="form-control" id="recovery-email" placeholder="Digite su correo electrónico">
                    </div>

                    <div *ngIf="!CodigoEnviado" class="form-group">
                        <label for="profile-identificacion">Identificación</label>
                        <input type="text" formControlName="Identificacion" class="form-control" id="recovery-identificacion" placeholder="Digite su correo identificacion">
                    </div>
                
                    <div *ngIf="CodigoEnviado" class="form-group">
                        <label for="profile-email">Código de Seguridad</label>
                        <input type="text" formControlName="CodigoSeguridad" class="form-control" id="recovery-code" placeholder="Digite el código de seguridad">       
                        <small class="form-text text-muted">
                            <a> * Por favor copiar o digitar el código enviado a tu correo </a>
                        </small>
                    </div>

                    <div *ngIf="!CodigoEnviado" class="form-group mt-5 mb-0">
                        <button 
                            type="submit"
                            [disabled]="loading" 
                            class="btn btn-primary">
                            <i *ngIf="!loading"> Solicitar Código </i>
                            <i *ngIf="loading"> Enviando.... </i>
                        </button>
                    </div>

                    <div *ngIf="CodigoEnviado" class="form-group mt-5 mb-0">
                        <button 
                            type="submit"
                            [disabled]="loading" 
                            class="btn btn-primary">
                            <i *ngIf="!loadingEnviado"> Recuperar Usuario</i>
                            <i *ngIf="loadingEnviado"> Enviando.... </i>
                        </button>
                    </div><br>

                    <div class="alert alert-danger" *ngIf="mensajerespuestaerror.length>0" role="alert">
                        {{mensajerespuestaerror}}
                    </div>
                    <div class="alert alert-success" *ngIf="mensajerespuestaexito.length>0" role="alert">
                        {{mensajerespuestaexito}}
                    </div>
                </form> 
            </div>      
            
            <div  *ngIf="CodigoGenerado" class="col-12 col-lg-7 col-xl-6">
                
                    <div class="form-group">
                        <label for="profile-email">Hemos enviado a su correo electrónico el usuario y contraseña</label>
                    </div>

                    <div class="form-group mt-5 mb-0">
                        <button 
                            type="submit"
                            class="btn btn-primary">
                            <i (click)="IrUsuarioClick()"> Ir a Ingresar Usuario </i>
                        </button>
                    </div>


            </div>    



        </div>
    </div>
</div>


